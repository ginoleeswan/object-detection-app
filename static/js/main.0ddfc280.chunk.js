(this["webpackJsonpobject-detection-app"]=this["webpackJsonpobject-detection-app"]||[]).push([[0],{383:function(e,t,n){},388:function(e,t){},389:function(e,t){},397:function(e,t){},406:function(e,t){},407:function(e,t){},408:function(e,t){},416:function(e,t){},424:function(e,t,n){},721:function(e,t,n){"use strict";n.r(t);var c=n(46),r=n.n(c),a=n(103),i=n.n(a),s=(n(383),n(270)),o=n(4),u=n.n(o),d=n(11),l=n(5),f=(n(720),n(379)),j=n(375),b=n(376),h=n.n(b),p=(n(424),n(425),function(e,t){e.forEach((function(e){var n=Object(l.a)(e.bbox,4),c=n[0],r=n[1],a=n[2],i=n[3],s=e.class;t.strokeStyle="red",t.font="50px Helvetica",t.fillStyle="red",t.lineWidth=10,t.textBaseline="bottom",t.beginPath(),t.fillText(s,c,r),t.rect(c,r,a,i),t.stroke()}))}),v=n(62);var x=function(){var e="user",t={cameraFace:e},n=Object(c.useState)(e),r=Object(l.a)(n,2),a=r[0],i=r[1],o=Object(c.useRef)(null),b=Object(c.useRef)(null),x=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.load();case 2:t=e.sent,setInterval((function(){O(t)}),10);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof o.current||null===o.current||4!==o.current.video.readyState){e.next=14;break}return n=o.current.video,c=o.current.video.videoWidth,r=o.current.video.videoHeight,o.current.video.width=c,o.current.video.height=r,b.current.width=c,b.current.height=r,e.next=10,t.detect(n);case 10:a=e.sent,console.log(a),i=b.current.getContext("2d"),p(a,i);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){x()}),[]);var m=Object(c.useCallback)((function(){i((function(t){return t===e?"environment":e}))}),[]);return Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)("header",{className:"app-header",children:Object(v.jsx)("h2",{children:"iSpy"})}),Object(v.jsx)("section",{children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(h.a,{ref:o,muted:!0,videoConstraints:Object(s.a)(Object(s.a)({},t),{},{cameraFace:a}),className:"webcam"}),Object(v.jsx)("canvas",{ref:b,className:"canvas"})]})}),Object(v.jsxs)("footer",{className:"app-footer",children:[Object(v.jsx)("div",{className:"camera-icon-container",children:Object(v.jsx)(f.a,{className:"camera-icon",onClick:m})}),Object(v.jsx)("div",{className:"app-footer-text",children:Object(v.jsx)("h3",{children:a})})]})]})};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(x,{})}),document.getElementById("root"))}},[[721,1,2]]]);
//# sourceMappingURL=main.0ddfc280.chunk.js.map